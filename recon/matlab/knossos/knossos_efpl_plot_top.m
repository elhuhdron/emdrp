
% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_agglo_rf_75iter2p_reduced_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_agglo_rf_75iter2p_reduced_interp_norandbg.mat'
% };
% load_indices = [1 2 1 2]; 

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_agglo_rf_75iter2p_reduced_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_agglo_rf_75iter2p_reduced_norandbg.mat'
% };
% load_indices = [1 2 1 2]; 

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   %'/home/watkinspv/Data/efpl/efpl_huge_xyzonly_offset_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_xyzonly_offset_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_xyzonly_offset_interp_norandbg.mat'
% };
% load_indices = [2 2 3]; 

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_huge_xyzonly_offset_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_xyzonly_offset_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_neon.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_neon.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_neon_mferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_neon_mferg_ebal.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_neon_mferg_ebal.mat'
% };
% load_indices = [2 3 1 2 1 1 2]; 

% % pre-new arch paper-like runs
% load_files = {
%   %'/home/watkinspv/Data/efpl/efpl_huge_interp_wsnew.mat' % ind 1
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_fergus_wsnew.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_kaiming2.mat'
%   %'/home/watkinspv/Data/efpl/efpl_huge_interp_vgg3.mat'
%   %'/home/watkinspv/Data/efpl/efpl_huge_interp_vgg3_2.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_vgg4_pferg.mat'
%   %'/home/watkinspv/Data/efpl/efpl_interp_vgg4_pferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_p2ferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_vgg5.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_vgg5.mat'
% };
% %load_indices = [2 2 1 1 1 2 1]; 
% load_indices = [2 2 1 1 1 2]; 

% % compare stitching
% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_fergus_wsnew.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_nmferg_stitch.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_nmferg_stitch.mat'
% };
% load_indices = [2 1 2]; 

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_xyz_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_n3f16_oldthr.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_mnbf32.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_p3nbf64_oldthr.mat'  
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_vgg3.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_vgg4_pferg.mat'  
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_xyz_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_n3f16_oldthr.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_mbf32.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_fergus_wsnew.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_mnbf32.mat'
% };
%load_indices = [1 1 2 2 2 2 1 1];
%load_indices = [1 1 2 2 2];
%load_indices = [2 2 1 1 1 1 2];

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_xyz_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_n3f16.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_vgg4_pferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_vgg3.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_vgg3_2.mat'
%   '/home/watkinspv/Data/efpl/efpl_huge_interp_fergus_wsnew.mat'
% };
% load_indices = [2 2 1 1 1 1 1];

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_xyz_norandbg.mat'
%   %'/home/watkinspv/Data/efpl/efpl_paper_vgg4_pferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_n2f16.mat'
%   %'/home/watkinspv/Data/efpl/efpl_paper_vgg5.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_xyz_norandbg.mat'
%   %'/home/watkinspv/Data/efpl/efpl_paper_vgg4_pferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_n2f16.mat'
%   %'/home/watkinspv/Data/efpl/efpl_paper_vgg5.mat'
% };
% %load_indices = [2 1 1 3];  % xyz / vgg4
% load_indices = [2 1 1 2];  % xyz / p3b / n2f16

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_vgg4_pferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_agglo_rf_75iter2p_reduced_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_vgg4pool64_agglo_rf_75iter2p_small_interp.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_interp_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_interp_vgg4_pferg.mat'
%   '/home/watkinspv/Data/efpl/efpl_agglo_rf_75iter2p_reduced_interp_norandbg.mat'
% };
% load_indices = [2 1 2 1 1 3 1]; 

% load_files = {
%   '/home/watkinspv/Data/efpl/efpl_paper_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_xyz_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_n3f16.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_xyz_norandbg.mat'
%   '/home/watkinspv/Data/efpl/efpl_paper_n3f16.mat'
% };
% load_indices = [1 1 2 2 2 1]; 

% plot for kevin's talk
load_files = {
  '/home/watkinspv/Data/efpl/efpl_interp_kbtalk20160915.mat'
  '/home/watkinspv/Data/efpl/efpl_interp_kbtalk20160915.mat'
  '/home/watkinspv/Data/efpl/efpl_interp_kbtalk20160915.mat'
  '/home/watkinspv/Data/efpl/efpl_interp_kbtalk20160915.mat'
};
load_indices = [1 2 3 4]; 


% load from different saved .mat files generated by knossos_efpl
nload = length(load_indices); o = cell(1,nload); pdata = cell(1,nload);
for i = 1:nload
  X = load(load_files{i});
  o{i} = X.o{load_indices(i)}; pdata{i} = X.pdata(load_indices(i));
  % mehlab
  %if i==1, pdata = X.pdata(load_indices(i)); else pdata(i) = X.pdata(load_indices(i)); end
end





% plot paramters
pplot = struct;

% for normal pdfs
% fixed width bins
pplot.dplx = 0.0001; pplot.plx = -1.9+pplot.dplx/2:pplot.dplx:2.2-pplot.dplx/2; pplot.nplx = length(pplot.plx);
%pplot.dplx = 0.0005; pplot.plx = -1.9+pplot.dplx/2:pplot.dplx:2.2-pplot.dplx/2; pplot.nplx = length(pplot.plx);
%pplot.dplx = 0.05; pplot.plx = -1.9+pplot.dplx/2:pplot.dplx:2.2-pplot.dplx/2; pplot.nplx = length(pplot.plx);
%pplot.dplx = 0.075; pplot.plx = -1.925+pplot.dplx/2:pplot.dplx:2.2-pplot.dplx/2; pplot.nplx = length(pplot.plx);
%pplot.dplx = 0.1; pplot.plx = -1.9+pplot.dplx/2:pplot.dplx:2.2-pplot.dplx/2; pplot.nplx = length(pplot.plx);
% variable bins
%pplot.dplx = linspace(0.0005,0.05,163); pplot.plx = cumsum(pplot.dplx)-1.9; pplot.nplx = length(pplot.plx);
%pplot.dplx = linspace(0.0001,0.05,164); pplot.plx = cumsum(pplot.dplx)-1.9; pplot.nplx = length(pplot.plx);

% for roc analysis
pplot.dplxs = 0.0001; pplot.plxs = -1.9+pplot.dplxs/2:pplot.dplxs:2.2-pplot.dplxs/2; pplot.nplxs = length(pplot.plxs);

% for node histograms
%pplot.dndx = 1; pplot.ndx = 0+pplot.dndx/2:pplot.dndx:150-pplot.dndx/2; pplot.nndx = length(pplot.ndx);
pplot.dndx = 5; pplot.ndx = 0+pplot.dndx/2:pplot.dndx:2000-pplot.dndx/2; pplot.nndx = length(pplot.ndx);

%pplot.param_name = 'thresholds';
pplot.param_name = '';
pplot.dxticksel = 3;

pplot.baseno = 3000;

po = knossos_efpl_plot(pdata,o,pplot);


